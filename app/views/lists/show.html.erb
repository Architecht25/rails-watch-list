<h1 class="mb-4"><%= @list.name %></h1>

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
  <% @bookmarks.each do |bookmark| %>
    <div class="col">
      <div class="card h-100 shadow-sm" id="bookmark_<%= bookmark.id %>">
        <% if bookmark.movie.poster_url.present? %>
          <img src="<%= bookmark.movie.poster_url %>" class="card-img-top" alt="<%= bookmark.movie.title %>">
        <% end %>
        <div class="card-body">
          <h5 class="card-title"><%= bookmark.movie.title %></h5>
          <p class="card-text"><%= bookmark.comment %></p>
        </div>
        <div class="card-footer text-end">
          <%= link_to "🗑️ Supprimer", bookmark_path(bookmark),
                      method: :delete,
                      data: { turbo_confirm: "Supprimer ce film ?" },
                      class: "btn btn-sm btn-outline-danger" %>
        </div>
      </div>
    </div>
  <% end %>
</div>

<hr class="my-5">

<h3>Ajouter un film à la liste</h3>
<%= render "bookmarks/form", list: @list, bookmark: @bookmark %>

<div class="text-center mt-5">
  <%= link_to "⬅️ Retour aux listes", lists_path, class: "btn btn-outline-secondary" %>
</div>

